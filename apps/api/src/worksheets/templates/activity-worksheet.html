<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{title}}</title>
  <style>{{styles}}</style>
</head>
<body>
  <!-- HEADER -->
  <div class="worksheet-header">
    <div class="header-left">
      <div class="worksheet-title">{{title}}</div>
      <div class="worksheet-subtitle">{{subTypeLabel}} &bull; {{difficultyLabel}} Level</div>
    </div>
    <div class="header-meta">
      <div class="field"><span class="field-label">Date:</span> {{date}}</div>
      <div class="field"><span class="field-label">Duration:</span> {{duration}}</div>
      <div class="field"><span class="field-label">Setting:</span> {{setting}}</div>
      <div class="meta-tags">
        {{#each domainTags}}
        <span class="meta-tag">{{this}}</span>
        {{/each}}
      </div>
    </div>
  </div>

  <!-- FILL-IN FIELDS -->
  <div class="fill-fields">
    <div class="fill-field">Child's Name: <span class="line"></span></div>
    <div class="fill-field">Facilitator: <span class="line"></span></div>
    <div class="fill-field">Date: <span class="line"></span></div>
  </div>

  <!-- INSTRUCTIONS -->
  <div class="instructions-box">
    <h2>How to Use This Worksheet</h2>
    <p>{{instructions}}</p>
  </div>

  <!-- SECTIONS -->
  {{#each sections}}
  <div class="section">
    <div class="section-header">
      <div class="section-number">{{sectionIndex}}</div>
      <div class="section-title">{{this.title}}</div>
    </div>
    {{#if this.description}}
    <div class="section-description">{{this.description}}</div>
    {{/if}}

    {{#each this.activities}}
    <div class="activity-card">
      {{#if this.imageUrl}}
      <div class="activity-image">
        <img src="{{this.imageUrl}}" alt="{{this.altText}}" />
      </div>
      {{else}}
      <div class="activity-image-placeholder">
        Illustration
      </div>
      {{/if}}
      <div class="activity-content">
        <div class="activity-name">{{this.name}}</div>
        <div class="activity-instructions">{{this.instructions}}</div>
        <div class="activity-materials">
          <strong>Materials:</strong> {{this.materialsStr}}
        </div>
        <div class="activity-rationale">{{this.therapeuticRationale}}</div>
        <div class="adaptations">
          <div class="adaptation adaptation-easier">
            <span class="adaptation-label">Make it easier:</span>
            {{this.adaptations.easier}}
          </div>
          <div class="adaptation adaptation-harder">
            <span class="adaptation-label">Challenge up:</span>
            {{this.adaptations.harder}}
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  {{/each}}

  <!-- TIPS -->
  {{#if tips.length}}
  <div class="tips-section">
    <h2>Tips for Success</h2>
    <ul>
      {{#each tips}}
      <li>{{this}}</li>
      {{/each}}
    </ul>
  </div>
  {{/if}}

  <!-- NOTES -->
  <div class="notes-section">
    <h2>Observation Notes</h2>
    <p class="notes-prompt">{{notesPrompt}}</p>
    <div class="notes-lines">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="worksheet-footer">
    <div class="footer-brand">
      <span class="footer-text">Generated by Upllyft &bull; upllyft.com &bull; AI-powered learning resources for the neurodivergent community</span>
    </div>
  </div>
</body>
</html>
